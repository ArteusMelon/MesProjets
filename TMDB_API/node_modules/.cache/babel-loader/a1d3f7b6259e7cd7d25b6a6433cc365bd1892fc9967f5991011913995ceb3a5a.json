{"ast":null,"code":"import { fetchPopfilm, rechercheFilm, pageSuiva, pagePrevi, rechercheTvs, rechercheTves, FETCH_FILM_DETAILS } from \"./typeaction\";\nimport axios from \"axios\";\nconst api_key = process.env.REACT_APP_API_KEY;\nexport const fetchFilmDetails = filmId => {\n  // Supprime page comme argument car il semble inutile pour les détails du film\n  return async dispatch => {\n    try {\n      const response = await axios.get(`https://api.themoviedb.org/3/movie/${filmId}?api_key=${api_key}`);\n      dispatch({\n        type: FETCH_FILM_DETAILS,\n        payload: response.data // Assure-toi que la réponse entière est envoyée comme payload\n      });\n    } catch (error) {\n      console.error(\"Error fetching film details:\", error);\n    }\n  };\n};\nexport const fetchPopfilms = page => {\n  return async dispatch => {\n    const reponse = await axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${api_key}&page=${page}`);\n    dispatch({\n      type: fetchPopfilm,\n      payload: {\n        page,\n        film: reponse.data.results,\n        totalPage: reponse.data.total_pages\n      }\n    });\n  };\n};\nexport const rechercheFilms = (recherche, page) => {\n  return async dispatch => {\n    const reponse = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${api_key}&page=${page}&query=${recherche}`);\n    dispatch({\n      type: rechercheFilm,\n      payload: {\n        recherche,\n        page,\n        film: reponse.data.results,\n        totalPage: reponse.data.total_pages\n      }\n    });\n  };\n};\nexport const rechercheTv = page => {\n  return async dispatch => {\n    const reponse = await axios.get(`https://api.themoviedb.org/3/trending/tv/day?api_key=${api_key}&page=${page}`);\n    dispatch({\n      type: rechercheTvs,\n      payload: {\n        page,\n        tv: reponse.data.results,\n        totalPage: reponse.data.total_pages\n      }\n    });\n  };\n};\nexport const recherchesTv = (recherche, page) => {\n  return async dispatch => {\n    const reponse = await axios.get(`https://api.themoviedb.org/3/search/tv?api_key=${api_key}&page=${page}&query=${recherche}`);\n    dispatch({\n      type: rechercheTves,\n      payload: {\n        recherche,\n        page,\n        tv: reponse.data.results,\n        totalPage: reponse.data.total_pages\n      }\n    });\n  };\n};\nexport const pageSuiv = {\n  type: pageSuiva\n};\nexport const pagePrev = {\n  type: pagePrevi\n};","map":{"version":3,"names":["fetchPopfilm","rechercheFilm","pageSuiva","pagePrevi","rechercheTvs","rechercheTves","FETCH_FILM_DETAILS","axios","api_key","process","env","REACT_APP_API_KEY","fetchFilmDetails","filmId","dispatch","response","get","type","payload","data","error","console","fetchPopfilms","page","reponse","film","results","totalPage","total_pages","rechercheFilms","recherche","rechercheTv","tv","recherchesTv","pageSuiv","pagePrev"],"sources":["C:/Users/Utilisateur/OneDrive/Desktop/MesProjets/TMDB_API/src/action.js"],"sourcesContent":["import {\r\n  fetchPopfilm,\r\n  rechercheFilm,\r\n  pageSuiva,\r\n  pagePrevi,\r\n  rechercheTvs,\r\n  rechercheTves,\r\n  FETCH_FILM_DETAILS\r\n} from \"./typeaction\";\r\nimport axios from \"axios\";\r\nconst api_key = process.env.REACT_APP_API_KEY;\r\n\r\nexport const fetchFilmDetails = (filmId) => { // Supprime page comme argument car il semble inutile pour les détails du film\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://api.themoviedb.org/3/movie/${filmId}?api_key=${api_key}`\r\n      );\r\n\r\n      dispatch({\r\n        type: FETCH_FILM_DETAILS,\r\n        payload: response.data // Assure-toi que la réponse entière est envoyée comme payload\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error fetching film details:\", error);\r\n    }\r\n  };\r\n};\r\nexport const fetchPopfilms = (page) => {\r\n  return async (dispatch) => {\r\n    const reponse = await axios.get(\r\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${api_key}&page=${page}`\r\n    );\r\n    dispatch({\r\n      type: fetchPopfilm,\r\n      payload: { page, film: reponse.data.results, totalPage: reponse.data.total_pages  },\r\n    });\r\n  };\r\n};\r\nexport const rechercheFilms = (recherche, page) => {\r\n  return async (dispatch) => {\r\n    const reponse = await axios.get(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=${api_key}&page=${page}&query=${recherche}`\r\n    );\r\n    dispatch({\r\n      type: rechercheFilm,\r\n      payload: { recherche, page, film: reponse.data.results, totalPage: reponse.data.total_pages  },\r\n    });\r\n  };\r\n};\r\nexport const rechercheTv = (page) => {\r\n  return async (dispatch) => {\r\n    const reponse = await axios.get(\r\n      `https://api.themoviedb.org/3/trending/tv/day?api_key=${api_key}&page=${page}`\r\n    );\r\n    dispatch({\r\n      type: rechercheTvs,\r\n      payload: { page, tv: reponse.data.results, totalPage: reponse.data.total_pages  },\r\n    });\r\n  };\r\n};\r\nexport const recherchesTv = (recherche,page) => {\r\n  return async (dispatch) => {\r\n    const reponse = await axios.get(\r\n      `https://api.themoviedb.org/3/search/tv?api_key=${api_key}&page=${page}&query=${recherche}`\r\n    );\r\n    dispatch({\r\n      type: rechercheTves,\r\n      \r\n      payload: { recherche, page, tv: reponse.data.results, totalPage: reponse.data.total_pages },\r\n    });\r\n  };\r\n};\r\n\r\n\r\nexport const pageSuiv = {type:pageSuiva};\r\nexport const pagePrev = {type:pagePrevi};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}