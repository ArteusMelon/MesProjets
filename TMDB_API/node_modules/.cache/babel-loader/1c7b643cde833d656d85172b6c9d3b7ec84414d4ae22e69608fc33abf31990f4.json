{"ast":null,"code":"import { fetchPopfilm, rechercheFilm, pageSuiva, pagePrevi, rechercheTvs, rechercheTves } from \"./typeaction\";\nimport axios from \"axios\";\nconst api_key = process.env.REACT_APP_API_KEY;\nexport const fetchFilmDetails = filmId => {\n  return async dispatch => {\n    const response = await axios.get(`https://api.themoviedb.org/3/movie/${filmId}?api_key=${api_key}`);\n    dispatch({\n      type: FETCH_FILM_DETAILS,\n      payload: response.data\n    });\n  };\n};\nexport const fetchPopfilms = page => {\n  return async dispatch => {\n    const reponse = await axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${api_key}&page=${page}`);\n    dispatch({\n      type: fetchPopfilm,\n      payload: {\n        page,\n        film: reponse.data.results,\n        totalPage: reponse.data.total_pages\n      }\n    });\n  };\n};\nexport const rechercheFilms = (recherche, page) => {\n  return async dispatch => {\n    const reponse = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${api_key}&page=${page}&query=${recherche}`);\n    dispatch({\n      type: rechercheFilm,\n      payload: {\n        recherche,\n        page,\n        film: reponse.data.results,\n        totalPage: reponse.data.total_pages\n      }\n    });\n  };\n};\nexport const rechercheTv = page => {\n  return async dispatch => {\n    const reponse = await axios.get(`https://api.themoviedb.org/3/trending/tv/day?api_key=${api_key}&page=${page}`);\n    dispatch({\n      type: rechercheTvs,\n      payload: {\n        page,\n        tv: reponse.data.results,\n        totalPage: reponse.data.total_pages\n      }\n    });\n  };\n};\nexport const recherchesTv = (recherche, page) => {\n  return async dispatch => {\n    const reponse = await axios.get(`https://api.themoviedb.org/3/search/tv?api_key=${api_key}&page=${page}&query=${recherche}`);\n    dispatch({\n      type: rechercheTves,\n      payload: {\n        recherche,\n        page,\n        tv: reponse.data.results,\n        totalPage: reponse.data.total_pages\n      }\n    });\n  };\n};\nexport const pageSuiv = {\n  type: pageSuiva\n};\nexport const pagePrev = {\n  type: pagePrevi\n};","map":{"version":3,"names":["fetchPopfilm","rechercheFilm","pageSuiva","pagePrevi","rechercheTvs","rechercheTves","axios","api_key","process","env","REACT_APP_API_KEY","fetchFilmDetails","filmId","dispatch","response","get","type","FETCH_FILM_DETAILS","payload","data","fetchPopfilms","page","reponse","film","results","totalPage","total_pages","rechercheFilms","recherche","rechercheTv","tv","recherchesTv","pageSuiv","pagePrev"],"sources":["C:/Users/Utilisateur/OneDrive/Desktop/MesProjets/TMDB_API/src/action.js"],"sourcesContent":["import {\r\n  fetchPopfilm,\r\n  rechercheFilm,\r\n  pageSuiva,\r\n  pagePrevi,\r\n  rechercheTvs,\r\n  rechercheTves,\r\n} from \"./typeaction\";\r\nimport axios from \"axios\";\r\n\r\nconst api_key = process.env.REACT_APP_API_KEY;\r\nexport const fetchFilmDetails = (filmId) => {\r\n  return async (dispatch) => {\r\n    const response = await axios.get(\r\n      `https://api.themoviedb.org/3/movie/${filmId}?api_key=${api_key}`\r\n    );\r\n\r\n    dispatch({\r\n      type: FETCH_FILM_DETAILS,\r\n      payload: response.data\r\n    });\r\n  };\r\n};\r\nexport const fetchPopfilms = (page) => {\r\n  return async (dispatch) => {\r\n    const reponse = await axios.get(\r\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${api_key}&page=${page}`\r\n    );\r\n    dispatch({\r\n      type: fetchPopfilm,\r\n      payload: { page, film: reponse.data.results, totalPage: reponse.data.total_pages  },\r\n    });\r\n  };\r\n};\r\nexport const rechercheFilms = (recherche, page) => {\r\n  return async (dispatch) => {\r\n    const reponse = await axios.get(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=${api_key}&page=${page}&query=${recherche}`\r\n    );\r\n    dispatch({\r\n      type: rechercheFilm,\r\n      payload: { recherche, page, film: reponse.data.results, totalPage: reponse.data.total_pages  },\r\n    });\r\n  };\r\n};\r\nexport const rechercheTv = (page) => {\r\n  return async (dispatch) => {\r\n    const reponse = await axios.get(\r\n      `https://api.themoviedb.org/3/trending/tv/day?api_key=${api_key}&page=${page}`\r\n    );\r\n    dispatch({\r\n      type: rechercheTvs,\r\n      payload: { page, tv: reponse.data.results, totalPage: reponse.data.total_pages  },\r\n    });\r\n  };\r\n};\r\nexport const recherchesTv = (recherche,page) => {\r\n  return async (dispatch) => {\r\n    const reponse = await axios.get(\r\n      `https://api.themoviedb.org/3/search/tv?api_key=${api_key}&page=${page}&query=${recherche}`\r\n    );\r\n    dispatch({\r\n      type: rechercheTves,\r\n      \r\n      payload: { recherche, page, tv: reponse.data.results, totalPage: reponse.data.total_pages },\r\n    });\r\n  };\r\n};\r\n\r\n\r\nexport const pageSuiv = {type:pageSuiva};\r\nexport const pagePrev = {type:pagePrevi};\r\n\r\n"],"mappings":"AAAA,SACEA,YAAY,EACZC,aAAa,EACbC,SAAS,EACTC,SAAS,EACTC,YAAY,EACZC,aAAa,QACR,cAAc;AACrB,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAC7C,OAAO,MAAMC,gBAAgB,GAAIC,MAAM,IAAK;EAC1C,OAAO,MAAOC,QAAQ,IAAK;IACzB,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAC7B,sCAAqCH,MAAO,YAAWL,OAAQ,EAClE,CAAC;IAEDM,QAAQ,CAAC;MACPG,IAAI,EAAEC,kBAAkB;MACxBC,OAAO,EAAEJ,QAAQ,CAACK;IACpB,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AACD,OAAO,MAAMC,aAAa,GAAIC,IAAI,IAAK;EACrC,OAAO,MAAOR,QAAQ,IAAK;IACzB,MAAMS,OAAO,GAAG,MAAMhB,KAAK,CAACS,GAAG,CAC5B,2DAA0DR,OAAQ,SAAQc,IAAK,EAClF,CAAC;IACDR,QAAQ,CAAC;MACPG,IAAI,EAAEhB,YAAY;MAClBkB,OAAO,EAAE;QAAEG,IAAI;QAAEE,IAAI,EAAED,OAAO,CAACH,IAAI,CAACK,OAAO;QAAEC,SAAS,EAAEH,OAAO,CAACH,IAAI,CAACO;MAAa;IACpF,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AACD,OAAO,MAAMC,cAAc,GAAGA,CAACC,SAAS,EAAEP,IAAI,KAAK;EACjD,OAAO,MAAOR,QAAQ,IAAK;IACzB,MAAMS,OAAO,GAAG,MAAMhB,KAAK,CAACS,GAAG,CAC5B,qDAAoDR,OAAQ,SAAQc,IAAK,UAASO,SAAU,EAC/F,CAAC;IACDf,QAAQ,CAAC;MACPG,IAAI,EAAEf,aAAa;MACnBiB,OAAO,EAAE;QAAEU,SAAS;QAAEP,IAAI;QAAEE,IAAI,EAAED,OAAO,CAACH,IAAI,CAACK,OAAO;QAAEC,SAAS,EAAEH,OAAO,CAACH,IAAI,CAACO;MAAa;IAC/F,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AACD,OAAO,MAAMG,WAAW,GAAIR,IAAI,IAAK;EACnC,OAAO,MAAOR,QAAQ,IAAK;IACzB,MAAMS,OAAO,GAAG,MAAMhB,KAAK,CAACS,GAAG,CAC5B,wDAAuDR,OAAQ,SAAQc,IAAK,EAC/E,CAAC;IACDR,QAAQ,CAAC;MACPG,IAAI,EAAEZ,YAAY;MAClBc,OAAO,EAAE;QAAEG,IAAI;QAAES,EAAE,EAAER,OAAO,CAACH,IAAI,CAACK,OAAO;QAAEC,SAAS,EAAEH,OAAO,CAACH,IAAI,CAACO;MAAa;IAClF,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AACD,OAAO,MAAMK,YAAY,GAAGA,CAACH,SAAS,EAACP,IAAI,KAAK;EAC9C,OAAO,MAAOR,QAAQ,IAAK;IACzB,MAAMS,OAAO,GAAG,MAAMhB,KAAK,CAACS,GAAG,CAC5B,kDAAiDR,OAAQ,SAAQc,IAAK,UAASO,SAAU,EAC5F,CAAC;IACDf,QAAQ,CAAC;MACPG,IAAI,EAAEX,aAAa;MAEnBa,OAAO,EAAE;QAAEU,SAAS;QAAEP,IAAI;QAAES,EAAE,EAAER,OAAO,CAACH,IAAI,CAACK,OAAO;QAAEC,SAAS,EAAEH,OAAO,CAACH,IAAI,CAACO;MAAY;IAC5F,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AAGD,OAAO,MAAMM,QAAQ,GAAG;EAAChB,IAAI,EAACd;AAAS,CAAC;AACxC,OAAO,MAAM+B,QAAQ,GAAG;EAACjB,IAAI,EAACb;AAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}